import{r as d,f as y,c as n,a as t,t as c,n as w,d as v,v as p,b as k,e as S,o as u}from"./index-ZNKywnud.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const x={class:"insert-wizard"},z={class:"wizard-container"},E={class:"wizard-header"},V={class:"progress-bar"},D={class:"wizard-content"},L={key:0,class:"form-group"},B=["for"],N=["id","placeholder"],j={key:1,class:"location-fields"},q={class:"form-group"},F={class:"form-group"},I={class:"wizard-footer"},R=["disabled"],T=["disabled"],U={__name:"InsertView",setup(O){const _=S(),e=d(1),o=d(["","","","",""]),s=d({latitude:"",longitude:""}),r=["Categorie de informatii","Capitole","Subcapitole","Diviziune","Componenta","Locatie"],m=y(()=>e.value===6?s.value.latitude&&s.value.longitude:o.value[e.value-1]),f=()=>{e.value<6&&e.value++},g=()=>{e.value>1&&e.value--},b=async()=>{try{let l=[];try{l=await(await fetch("/equipment_data.json")).json()}catch{console.warn("No existing data found, creating new file")}const a={categorie_informatii:o.value[0],capitole:o.value[1],subcapitole:o.value[2],diviziune:o.value[3],componenta:o.value[4],latitude:parseFloat(s.value.latitude),longitude:parseFloat(s.value.longitude)};if(l.push(a),!(await fetch("/api/save-equipment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok)throw new Error("Failed to save data");o.value=["","","","",""],s.value={latitude:"",longitude:""},e.value=1,_.push("/view")}catch(l){console.error("Error saving data:",l),alert("Error saving data. Please try again.")}};return(l,a)=>(u(),n("div",x,[t("div",z,[t("div",E,[t("h2",null,"Step "+c(e.value)+"/6: "+c(r[e.value-1]),1),t("div",V,[t("div",{class:"progress",style:w({width:`${e.value/6*100}%`})},null,4)])]),t("div",D,[e.value!==6?(u(),n("div",L,[t("label",{for:"step"+e.value},c(r[e.value-1]),9,B),v(t("input",{id:"step"+e.value,"onUpdate:modelValue":a[0]||(a[0]=i=>o.value[e.value-1]=i),type:"text",placeholder:"Enter "+r[e.value-1].toLowerCase()},null,8,N),[[p,o.value[e.value-1]]])])):(u(),n("div",j,[t("div",q,[a[3]||(a[3]=t("label",{for:"latitude"},"Latitude",-1)),v(t("input",{id:"latitude","onUpdate:modelValue":a[1]||(a[1]=i=>s.value.latitude=i),type:"number",step:"0.000001",placeholder:"Enter latitude (e.g., 44.4268)"},null,512),[[p,s.value.latitude]])]),t("div",F,[a[4]||(a[4]=t("label",{for:"longitude"},"Longitude",-1)),v(t("input",{id:"longitude","onUpdate:modelValue":a[2]||(a[2]=i=>s.value.longitude=i),type:"number",step:"0.000001",placeholder:"Enter longitude (e.g., 26.1025)"},null,512),[[p,s.value.longitude]])])]))]),t("div",I,[e.value>1?(u(),n("button",{key:0,onClick:g,class:"btn-secondary"}," Back ")):k("",!0),e.value<6?(u(),n("button",{key:1,onClick:f,class:"btn-primary",disabled:!o.value[e.value-1]}," Continue ",8,R)):(u(),n("button",{key:2,onClick:b,class:"btn-success",disabled:!m.value}," Save ",8,T))])])]))}},M=C(U,[["__scopeId","data-v-e4be3eb6"]]);export{M as default};
